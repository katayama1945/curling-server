<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>ã‚«ãƒ¼ãƒªãƒ³ã‚°å¯¾æˆ¦</title>
</head>
<body>
  <h1>ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚«ãƒ¼ãƒªãƒ³ã‚°</h1>
  <div id="statusDiv">çŠ¶æ…‹ã‚’å–å¾—ä¸­...</div>

  <script>
    const statusDiv = document.getElementById("statusDiv");
    const ws = new WebSocket("ws://localhost:3000"); // ãƒãƒ¼ãƒˆã¨URLã¯åˆã‚ã›ã‚‹

    ws.onmessage = (event) => {
      const data = JSON.parse(event.data);
      console.log("å—ä¿¡:", data);

      if (data.status === "idle") {
        statusDiv.textContent = "ğŸŸ¢ èª°ã‚‚å‚åŠ ã—ã¦ã„ã¾ã›ã‚“";
        // ã“ã“ã«ã€Œå‚åŠ ãƒœã‚¿ãƒ³ã€è¡¨ç¤ºãªã©è¿½åŠ ã—ã¦ã‚‚OK

      } else if (data.status === "waiting") {
        statusDiv.textContent = "ğŸŸ¡ èª°ã‹ãŒå‚åŠ ã—ã¦å¯¾æˆ¦è€…ã‚’å¾…ã£ã¦ã„ã¾ã™";
        // å‚åŠ å—ä»˜UIãªã©ã‚’è¡¨ç¤º

      } else if (data.status === "playing") {
        statusDiv.textContent = "ğŸ”´ ã‚²ãƒ¼ãƒ ä¸­ã§ã™";
        // è¦³æˆ¦æ©Ÿèƒ½ãªã©ã‚’å‡ºã™å ´åˆã¯ã“ã“ã«è¿½åŠ 
      }
    };
  </script>
</body>
</html>
